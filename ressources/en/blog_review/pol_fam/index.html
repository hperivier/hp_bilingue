<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-UK" xml:lang="en-UK"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.358">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2004-09-01">
<meta name="description" content="Qu’est-ce que la politique familiale ? Quel est son objectif ? Évolue-t-elle conformément aux attentes des citoyens? …">

<title>La Politique de la Famille</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bio.html"> 
<span class="menu-text">Bio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog_books.html"> 
<span class="menu-text">Books</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog_projects.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog_teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../media.html"> 
<span class="menu-text">Medias</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog_review.html"> 
<span class="menu-text">Reviews</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../"> <i class="bi bi-globe2" role="img">
</i> 
<span class="menu-text">FR</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">La Politique de la Famille</h1>
                  <div>
        <div class="description">
          Qu’est-ce que la politique familiale ? Quel est son objectif ? Évolue-t-elle conformément aux attentes des citoyens? …
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Book</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 1, 2004</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Jacques Commaille, Pierre Strobel et Michel Villac, La Politique Familiale La Découverte, Paris, 2002, 117 p. ISBN 2707137804</p>
<p>Qu'est-ce que la politique familiale ? Quel est son objectif ? Évolue-t-elle conformément aux attentes des citoyens ? Dans un pays comme la France, où les dépenses directes consacrées à la famille représentaient en 2003 un peu plus de 3 % du produit intérieur brut, ces questions sont essentielles. Elles dépassent le cadre de l'analyse économique, puisque cela interroge la place de l'individu dans la société, en particulier celle des femmes. En effet, elles ont traditionnellement la charge des tâches familiales, on comprend donc bien que derrière la politique familiale se cache la question de leur indépendance et de la marche vers l'égalité des sexes. Répondre à ces interrogations n'est pas chose aisée. Jacques Commaille, Pierre Strobel et Michel Villac relèvent le défi. Après avoir analysé les ambiguïtés qui existent autour du terme “politique de la famille”, ils décortiquent et détaillent de façon exhaustive les héritages, les enjeux, tantôt évidents tantôt dissimulés, et les contradictions de l'intervention publique dans le domaine de la famille. La politique familiale française repose sur une vision holiste de la famille : le groupe d'individus constituant la famille prime sur l'individu lui-même. Cette conception de la famille se traduit dans la façon dont les diverses prestations familiales, et sociales en général, sont attribuées ainsi que dans la collecte de l'impôt. L'unité de référence du système fiscalo-social est donc la famille et non l'individu, comme c'est le cas en Suède par exemple. Ainsi, les conditions de ressources s'appliquent aux revenus du ménage, l'impôt sur le revenu est calculé en regroupant l'ensemble des revenus de la famille, il dépend de sa taille et du statut marital du couple. Initialement, ce dispositif a été construit sur le modèle de Monsieur Gagne-pain. L'homme était l'unique pourvoyeur de ressources et la femme s'occupait des tâches domestiques. Dans ce contexte, la notion de droits dérivés, qui permet à l'homme actif de transférer, sans cotisations supplémentaires, les droits acquis par son travail aux membres de sa famille (considérés comme dépendants) était cohérente. Dès lors, les individus acquièrent des droits sociaux, soit en tant que citoyens, soit en tant que travailleurs, directement à travers la relation d'emploi, ou indirectement par le mariage ou la filiation. Mais ce statut d'ayant droit implique la stabilité du lien du mariage d'une part et la garantie de l'emploi du chef de ménage, auquel les ayants droit sont rattachés, d'autre part. Il se heurte désormais à deux transformations sociétale et économique majeures : d'un côté, l'augmentation du nombre des divorces qui rend l'accès indirect aux droits sociaux plus aléatoire pour les conjoints inactifs et de l'autre, la précarisation de l'emploi qui soulève la question de l'accès aux droits sociaux pour l'ensemble de la population exclue momentanément ou définitivement du marché du travail – et ceci non seulement pour l'actif, mais de facto pour ses ayants droit. Les années de crise économique ont précarisé certaines familles et montré les limites d'un système fondé sur l'unité familiale. Les auteurs soulignent que l'apparition de la notion de “risque famille” a conféré à la politique familiale un rôle qui va au-delà de la simple compensation du coût de l'enfant qui lui était attribué pendant les trente glorieuses. Elle devient un instrument essentiel de redistribution verticale. La remise en cause de la conception traditionnelle de la famille est issue de la volonté d'autonomisation des individus, en particulier des femmes, mais également des jeunes adultes. Alors que, depuis la Révolution française, le processus d'individualisation était réservé aux hommes, il s'est étendu à tout individu à partir de la moitié du XXe siècle avec la généralisation de la scolarisation et la reconnaissance des droits des femmes et des enfants (Singly, 2003). Cela soulève certaines incohérences du système français : par exemple, si le versement des allocations familiales cesse dès les 21 ans de l'enfant – ce dernier est donc supposé indépendant vis-à-vis de ses parents – il ne peut percevoir le RMI qu'à partir de 25 ans. L'ensemble du système redistributif français devrait donc être questionné à la lumière des droits de l'individu. L'un des objectifs initiaux de la politique familiale était le soutien de la natalité. La politique familiale française est encore aujourd'hui empreinte de cette vision de la famille comme le “lieu de reproduction de la société” : la politique familiale est significativement plus généreuse pour le troisième enfant que pour les deux premiers. La France est le seul pays européen à ne pas offrir d'allocations familiales au premier enfant ; en outre leur barème est progressif avec le rang de l'enfant (Insee, 2003). Le complément familial, dont l'éligibilité dépend des ressources du ménage, n'est versé qu'à partir du troisième enfant ; enfin, le système du quotient familial devient plus avantageux à partir du troisième enfant, puisque ce dernier permet au couple d'obtenir une part supplémentaire contre une demi-part pour ses aînés. La politique familiale française est donc marquée par l'objectif de stimulation des naissances. Cet objectif n'est pas compatible avec les développements de la famille bi-active (c'est-à-dire dans laquelle les deux membres du couple travaillent), qui reflète la volonté d'indépendance, notamment financière, des femmes. Or, la politique publique doit accompagner les changements de la société. Ainsi, le rôle de l'État n'est pas d'encourager les naissances mais de permettre aux individus d'avoir le nombre d'enfants qu'ils souhaitent sans pour autant renoncer à leur carrière. La politique familiale doit être une politique d'équipement de garde d'enfants et plus généralement une politique qui permette un égal accès à l'emploi aux femmes et aux hommes : “une politique nataliste a donc cessé d'être une politique familiale” (Aglietta, 1999). À cet égard, la politique publique française est ambiguë, puisqu'elle allie des mesures visant à encourager certaines femmes, les moins qualifiées, à retourner à la maison pour s'occuper des enfants et d'autres permettant aux plus qualifiées de poursuivre leur carrière au moment de l'arrivée de l'enfant. Il s'agit donc d'un problème non seulement d'égalité entre les sexes, mais également de redistribution entre les différentes couches sociales. Tout au long de l'ouvrage, il ressort que la question de l'aide aux familles est étroitement liée à celle de l'égalité des sexes. En effet, si les femmes sont entrées massivement sur le marché du travail depuis les années 1960, il n'en reste pas moins qu'elles n'ont pas le même accès à l'emploi que les hommes (Chauvel, 2004). Les auteurs soulignent la responsabilité des employeurs dans le processus de segmentation du marché du travail selon le sexe. L'activité des femmes s'est également développée via l'évolution du secteur des services (Gadrey, 2003). Notamment dans les années 1990, la diversification des modes de garde des jeunes enfants a eu pour conséquence la création d'emplois familiaux à domicile, précaires, sans progression de carrière (contrairement aux emplois dans les structures collectives type crèches) ; ceci revient à ce que des femmes qualifiées soustraitent les tâches domestiques à des femmes peu qualifiées. Cette individualisation des modes de garde ne permet pas d'enrayer l'inégal partage des rôles entre femmes et hommes. La prise en charge par l'État de la petite enfance et plus généralement des dépendants est essentielle dans la marche vers l'égalité des sexes parce qu'elle permet de libérer les femmes de certaines tâches pour qu'elles puissent s'investir davantage dans leur vie professionnelle. De même, la façon dont cette prise en charge est réalisée est primordiale : la qualité des emplois créés dans ce domaine doit être garantie et le caractère sexué de ces emplois gommé. Enfin, l'ouvrage offre un panorama exhaustif des questions et débats relatifs à la politique familiale et ceci aussi bien sous des angles juridiques, sociologiques qu'économiques. La question du genre est largement développée et les aspects redistributifs de la politique de la famille sont mis en évidence. Enfin, la mise en perspective du cas français dans le contexte européen indique que si la France n'est pas le plus mauvais élève, il lui reste un long chemin à parcourir pour offrir une politique familiale en adéquation avec une vision moderne de la société. Le débat sur le mariage homosexuel le prouve une fois de plus.</p>
<section id="bibliographie" class="level5">
<h5 class="anchored" data-anchor-id="bibliographie">Bibliographie</h5>
<section id="aglietta-michel-1999-in-majnoni-dintignano-b.dir.-egalité-entre-femmes-et-hommes-les-aspects-économiques-rapport-du-conseil-danalyse-économique-n-15-pp.-59-64." class="level6">
<h6 class="anchored" data-anchor-id="aglietta-michel-1999-in-majnoni-dintignano-b.dir.-egalité-entre-femmes-et-hommes-les-aspects-économiques-rapport-du-conseil-danalyse-économique-n-15-pp.-59-64.">Aglietta Michel, 1999, in Majnoni d'Intignano B.(dir.) Egalité entre femmes et hommes : les aspects économiques, Rapport du conseil d'analyse économique, n° 15, pp.&nbsp;59-64.</h6>
</section>
<section id="chauvel-louis-2004-vers-légalité-de-genre-les-tendances-générationnelles-sont-elles-irréversibles-in-milewski-f.-et-périvier-h.dir.-travail-des-femmes-et-inégalités-revue-de-lofce-n-90-pp.69-84." class="level6">
<h6 class="anchored" data-anchor-id="chauvel-louis-2004-vers-légalité-de-genre-les-tendances-générationnelles-sont-elles-irréversibles-in-milewski-f.-et-périvier-h.dir.-travail-des-femmes-et-inégalités-revue-de-lofce-n-90-pp.69-84.">Chauvel Louis, 2004, “Vers l'égalité de genre : les tendances générationnelles sont-elles irréversibles ?”, in Milewski F. et Périvier H.(dir.) Travail des femmes et inégalités, Revue de l'OFCE, n° 90, pp.69-84.</h6>
</section>
<section id="gadrey-jean-2003-socio-économie-des-services-repères-la-découverte-paris.-insee-2003-portrait-social-2003-2004." class="level6">
<h6 class="anchored" data-anchor-id="gadrey-jean-2003-socio-économie-des-services-repères-la-découverte-paris.-insee-2003-portrait-social-2003-2004.">Gadrey Jean, 2003, Socio-économie des services, Repères, La Découverte, Paris. INSEE, 2003, Portrait social 2003-2004.</h6>
</section>
<section id="singly-de-françois-2003-les-uns-avec-les-autres-quand-lindividualisme-crée-du-lien-armand-colin-paris." class="level6">
<h6 class="anchored" data-anchor-id="singly-de-françois-2003-les-uns-avec-les-autres-quand-lindividualisme-crée-du-lien-armand-colin-paris.">Singly de François, 2003, Les uns avec les autres : quand l'individualisme crée du lien, Armand Colin, Paris.</h6>
<p><a href="review.pdf">Review published in <em>Travail, genre et sociétés,</em> n° 28, 2004.</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Copyright 2023, Hélène Périvier, Quarto &amp; Github.
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>